#TODO cam needs to write this to test state machine